# StoreAPI
ТЗ
Склад реализует овощи. Напишите web api для автоматизации заказов оптовых покупателей.
Каждый покупатель получает уникальный токен для работы с api.
Покупатель может получать список продуктов, цены, остатки на сладе. Может создавать, редактировать, отменять, получать список своих заказов.

Решение
Решение разделено на 3 проекта: StoreAPI (ASP.NET Core), DataAccessLayer (Class Library), BusinessLayer (Class Library).

DataAccessLayer содержит контекст и сущности БД.
BusinessLayer содержит сервисы для получения, создания, изменения данных. Используются DTO. Валидация моделей находится в слое бизнес-логики (FluentValidation).
Для идентификации написан специальный middleware. Реквест должен содержать в заголовке - "Authorization: Bearer {token}". В контроллерах доступ ограничивается при помощи атрибута авторизации.
Для тестирования используется Swagger.

Протестировать: http://sergzh-001-site1.itempurl.com/

//
Какие недостатки я сам вижу:
Слой бизнес-логики включает в себя валидацию DTO, но сервисы ее не реализуют, валидация происходит в конвейере обработки запросов. Это несколько размывает логику сервиса. Чтобы использовать такую библиотеку, например, для в приложении WinForms, нужно будет перед вызовом сервиса отдельно выполнить валидацию. 
На мой взгляд, в идеале, сервис должен включать в себя полный цикл. На вход даем DTO, на выходе получаем объект Result, содержащий не только DTO, но и сообщение/код ошибки валидации или выполнения, в случае возникновения. Это несколько усложнило бы контроллеры в случае web api или mvc, но было бы более универсальным решением.
